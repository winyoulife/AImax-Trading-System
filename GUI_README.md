# AImax GUI系統使用指南

## 🎯 概述

AImax GUI系統是一個現代化的實時監控界面，專為多AI協作交易系統設計。它提供了完整的系統監控、AI狀態追蹤和交易管理功能。

## 🚀 快速開始

### 1. 安裝依賴

```bash
pip install PyQt6 psutil
```

### 2. 啟動GUI

```bash
python AImax/scripts/run_gui.py
```

## 📊 主要功能

### 實時監控儀表板
- **系統資源監控**: CPU、內存、磁盤使用率實時顯示
- **AI性能監控**: AI推理時間、數據處理時間、緩存命中率
- **性能趨勢圖表**: 歷史性能數據可視化

### AI狀態監控
- **三AI模型狀態**: 市場掃描員、深度分析師、最終決策者
- **協作狀態**: 信心度、共識狀態、決策歷史
- **實時更新**: 每秒更新AI狀態信息

### 交易狀態監控
- **賬戶狀態**: TWD/BTC餘額、總價值、今日盈虧
- **交易統計**: 活躍倉位、勝率、平均持倉時間
- **風險控制**: 風險等級、最大回撤、風險評分

### 系統管理
- **組件管理**: 查看和重啟系統組件
- **錯誤處理**: 自動錯誤恢復和用戶友好提示
- **狀態持久化**: 自動保存和恢復界面狀態

## 🏗️ 架構設計

### 核心組件

#### ComponentManager (組件管理器)
- 管理GUI組件的初始化順序和依賴關係
- 提供錯誤恢復和重試機制
- 支持組件熱重啟

#### ErrorHandler (錯誤處理器)
- 統一異常處理和錯誤恢復
- 用戶友好的錯誤消息顯示
- 自動錯誤恢復策略

#### StateManager (狀態管理器)
- 組件狀態追蹤和持久化
- 支持撤銷/重做功能
- 狀態導入/導出

#### MonitoringDashboard (監控儀表板)
- 實時數據收集和顯示
- 多線程性能監控
- 圖表和可視化

## 🔧 配置選項

### 監控設置
- **更新間隔**: 1-10秒可調
- **歷史數據**: 最多保存5分鐘數據
- **自動保存**: 支持狀態自動保存

### 界面設置
- **主題**: 現代化深色/淺色主題
- **字體**: 可調整字體大小
- **佈局**: 可自定義面板佈局

## 📱 界面說明

### 主窗口
- **菜單欄**: 文件、系統、幫助菜單
- **標籤頁**: 實時監控、系統狀態
- **狀態欄**: 系統狀態、組件計數、時間顯示

### 實時監控標籤
- **左側控制面板**: 開始/停止監控、設置更新間隔
- **右側監控區域**: 性能、AI狀態、交易狀態三個子標籤

### 系統狀態標籤
- **組件狀態**: 顯示所有組件的詳細狀態
- **控制按鈕**: 刷新狀態、重啟組件

## 🛠️ 故障排除

### 常見問題

#### 1. GUI無法啟動
```
錯誤: ModuleNotFoundError: No module named 'PyQt6'
解決: pip install PyQt6
```

#### 2. 監控數據不更新
- 檢查監控線程是否正常運行
- 確認系統資源充足
- 重啟監控服務

#### 3. 組件初始化失敗
- 查看錯誤日誌: `AImax/logs/gui.log`
- 使用系統診斷功能
- 嘗試重啟組件

### 日誌文件
- **GUI日誌**: `AImax/logs/gui.log`
- **狀態文件**: `AImax/data/gui_state.json`

## 🔄 開發模式

### 文本模式運行
如果沒有安裝PyQt6，系統會自動切換到文本模式：

```bash
python AImax/scripts/run_gui.py
```

文本模式提供基本的監控功能，適合服務器環境使用。

### 調試模式
設置環境變量啟用調試模式：

```bash
export AIMAX_DEBUG=1
python AImax/scripts/run_gui.py
```

## 📈 性能優化

### 系統要求
- **最低配置**: 4GB RAM, 雙核CPU
- **推薦配置**: 8GB RAM, 四核CPU
- **操作系統**: Windows 10+, macOS 10.14+, Linux

### 優化建議
1. **減少更新頻率**: 將監控間隔設置為2-3秒
2. **關閉不需要的標籤**: 只保持活躍標籤開啟
3. **定期清理日誌**: 避免日誌文件過大

## 🔐 安全考慮

### 數據保護
- 所有數據本地存儲，不上傳到外部服務器
- 狀態文件加密存儲（可選）
- 敏感信息自動脫敏顯示

### 訪問控制
- 支持用戶認證（可選）
- 操作日誌記錄
- 權限分級管理

## 🆕 更新日誌

### v1.0.0 (2025-01-24)
- ✅ 實現基礎GUI架構
- ✅ 完成實時監控儀表板
- ✅ 添加AI狀態監控
- ✅ 實現交易狀態顯示
- ✅ 完成錯誤處理系統
- ✅ 添加狀態管理功能

## 🤝 技術支持

### 問題反饋
如遇到問題，請提供以下信息：
1. 錯誤日誌內容
2. 系統環境信息
3. 操作步驟描述

### 功能建議
歡迎提出改進建議和新功能需求。

---

**讓AI為你交易，讓智慧創造財富！** 🚀